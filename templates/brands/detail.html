{% extends "base.html" %}
{% block title %}{{ brand.name }} — Holograms{% endblock %}

{% block content %}
<h1>{{ brand.name }}</h1>
<p>
  {{ brand.num_ads|default:0 }} ads
  {% if brand.avg_rating %} • ★ {{ brand.avg_rating|floatformat:1 }} avg{% endif %}
  {% if brand.website %} • <a href="{{ brand.website }}" target="_blank" rel="noopener">Website</a>{% endif %}
</p>
{% if brand.website %}<p><a href="{{ brand.website }}" target="_blank" rel="noopener">Website</a></p>{% endif %}
<hr>
<h2>Ads</h2>
<ul>
  {% for ad in page.object_list %}
    <li>
      <a href="{% url 'ad_detail' ad.pk %}">{{ ad.title }}</a>
      {% if ad.year %} ({{ ad.year }}){% endif %}
      {% if ad.agency %} — {{ ad.agency.name }}{% endif %}
      {% if ad.avg_rating %} — ★ {{ ad.avg_rating|floatformat:1 }}{% endif %}
    </li>
  {% empty %}
    <li>No ads for this brand yet.</li>
  {% endfor %}
</ul>

{% if page.paginator.num_pages > 1 %}
<nav>
  {% if page.has_previous %}<a href="?page={{ page.previous_page_number }}">← Prev</a>{% endif %}
  Page {{ page.number }} of {{ page.paginator.num_pages }}
  {% if page.has_next %}<a href="?page={{ page.next_page_number }}">Next →</a>{% endif %}
</nav>
{% endif %}
{% endblock %}